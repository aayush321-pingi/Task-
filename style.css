:root{--bg:#fafafa;--card:#fff;--text:#111;--muted:#666;--accent:#1976d2}
.dark{--bg:#0f1720;--card:#0b1220;--text:#e6eef8;--muted:#9fb0c8;--accent:#4dabf7}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial}
body{background:var(--bg);color:var(--text);padding:20px}
.container{max-width:1100px;margin:0 auto}
.card{background:var(--card);border-radius:10px;padding:16px;box-shadow:0 6px 20px rgba(2,6,23,0.08)}
header{display:flex;gap:12px;align-items:center;justify-content:space-between}
h1{margin:0;font-size:18px}

.controls{display:flex;gap:8px;align-items:center}
input.search{padding:8px 10px;border-radius:8px;border:1px solid #ddd;width:260px}
button.btn{padding:8px 10px;border-radius:8px;border:0;background:var(--accent);color:white;cursor:pointer}
button.ghost{background:transparent;border:1px solid #ccc;color:var(--text)}
table{width:100%;border-collapse:collapse;margin-top:12px}
th,td{padding:8px 10px;border-bottom:1px solid rgba(0,0,0,0.06);text-align:left}
th{background:transparent;position:relative;user-select:none}
th .sort{font-size:12px;color:var(--muted);margin-left:6px}
tr:hover td{background:rgba(25,118,210,0.02)}

.actions{display:flex;gap:8px}
.pager{display:flex;gap:8px;align-items:center;margin-top:12px}
.badge{font-size:12px;color:var(--muted)}

/* modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.4);display:flex;align-items:center;justify-content:center}
.modal{width:520px;background:var(--card);border-radius:10px;padding:16px}
.form-row{display:flex;gap:8px;margin-top:8px}
.col-list{max-height:280px;overflow:auto;margin-top:8px}
.col-item{display:flex;align-items:center;justify-content:space-between;padding:6px 4px;border-bottom:1px dashed rgba(0,0,0,0.04)}

.inline-input{width:100%;box-sizing:border-box}
.topbar{display:flex;gap:8px;align-items:center}

/* responsive */
@media (max-width:700px){.container{padding:8px}.controls{flex-direction:column;align-items:stretch}input.search{width:100%}}

/* Visual polish & animations */
body{transition:background 300ms ease,color 300ms ease}
.card{transition:transform 280ms cubic-bezier(.2,.9,.2,1),box-shadow 280ms ease}
.card:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(2,6,23,0.12)}
button.btn{transition:transform 220ms ease, box-shadow 220ms ease}
button.btn:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(25,118,210,0.18)}
button.ghost{transition:background 180ms ease,color 180ms ease,border-color 180ms ease}
button.ghost:hover{background:rgba(25,118,210,0.06);border-color:rgba(25,118,210,0.14)}

/* table row animations */
tbody tr{transition:opacity .32s ease, transform .32s cubic-bezier(.2,.9,.2,1)}
tbody tr.row-enter{opacity:0;transform:translateY(8px)}
tbody tr.row-exit{opacity:0;transform:translateX(-18px)}

/* sticky header with subtle blur */
th{position:sticky;top:0;background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.80));backdrop-filter: blur(4px)}
.dark th{background:linear-gradient(180deg, rgba(11,18,32,0.9), rgba(11,18,32,0.85))}

/* modal animation */
#modal{opacity:0;pointer-events:none;transition:opacity .22s ease}
#modal.visible{opacity:1;pointer-events:auto}
#modal .modal-backdrop{opacity:0;transform:scale(.98);transition:opacity .22s ease, transform .22s cubic-bezier(.2,.9,.2,1)}
#modal.visible .modal-backdrop{opacity:1;transform:scale(1)}
#modal .modal{transform:translateY(8px) scale(.99);transition:transform .26s cubic-bezier(.2,.9,.2,1),opacity .26s ease;opacity:0}
#modal.visible .modal{transform:translateY(0) scale(1);opacity:1}

/* column list drag handle and movement */
.col-item{transition:transform .22s ease, box-shadow .18s ease}
.col-item .ghost{opacity:0.9}

/* small visual for empty states */
.empty{padding:18px;text-align:center;color:var(--muted);font-style:italic}

/* header animation on reorder */
thead.header-anim th{transform-origin:center;animation:headerPulse .36s ease}
@keyframes headerPulse{0%{transform:translateY(-6px) scale(0.995);opacity:0.6}50%{transform:translateY(2px) scale(1.01);opacity:1}100%{transform:translateY(0) scale(1);opacity:1}}

/* skeleton shimmer for loading large datasets */
.skeleton-row{height:44px;background:linear-gradient(90deg,#f3f3f3 25%,#ececec 37%,#f3f3f3 63%);background-size:400% 100%;animation:shimmer 1.6s linear infinite;border-radius:4px}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.skeleton-wrap{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;padding:8px}
.skeleton-overlay{position:relative}
.skeleton-overlay::after{content:'';position:absolute;inset:0;background:rgba(255,255,255,0.0)}

/* chart preloader */
.chart-preloader{width:100%;height:120px;display:flex;align-items:center;justify-content:center}
.spinner{width:28px;height:28px;border-radius:50%;border:4px solid rgba(0,0,0,0.08);border-top-color:var(--accent);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* respect user motion preferences */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important}
}
